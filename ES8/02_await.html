<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>await</title>
</head>

<body>
    <script>
        // await 必须写在async函数中，但是async函数中可以没有await
        //  await 右侧的表达式一般为promise对象
        // await返回的值就是promise的成功的值
        // await的promise失败了，就会抛出异常，需要通过try...catch来处理

        // 创建一个promise对象
        const p = new Promise((resolve, reject) => {
            // resolve("用户数据");
            reject("出错了，失败");
        })
        async function main() {
            // let result = await p;
            // console.log(result);

            // 如果失败了就需要使用trycatch来处理异常
            try {
                let result = await p;
                console.log(result);
            } catch (e) {
                console.log(e)
            }
        }

        // 调用函数
        main();

    </script>
</body>

</html>